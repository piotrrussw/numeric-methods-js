{"version":3,"sources":["../src/lagrnage_oop.js"],"names":["Lagrange","arr","xs","map","p","x","ys","y","ws","_updateWeights","j","length","w","i","b","c"],"mappings":";;;;;;;;;;;;;IAAqBA,Q;;;AAEjB;;;;AAIA,oBAAYC,GAAZ,EAAiB;AAAA;;AACb,SAAKC,EAAL,GAAUD,GAAG,CAACE,GAAJ,CAAQ,UAAAC,CAAC;AAAA,aAAIA,CAAC,CAACC,CAAN;AAAA,KAAT,CAAV,CADa,CACgB;;AAC7B,SAAKC,EAAL,GAAUL,GAAG,CAACE,GAAJ,CAAQ,UAAAC,CAAC;AAAA,aAAIA,CAAC,CAACG,CAAN;AAAA,KAAT,CAAV,CAFa,CAEgB;;AAC7B,SAAKC,EAAL,GAAU,EAAV;;AACA,SAAKC,cAAL;AACH;AAED;;;;;;;qCAGiB;AACb,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKR,EAAL,CAAQS,MAA5B,EAAoC,EAAED,CAAtC,EAAyC;AACrC,YAAIE,CAAC,GAAG,CAAR;;AAEA,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKX,EAAL,CAAQS,MAA5B,EAAoC,EAAEE,CAAtC,EAAyC;AACrCA,UAAAA,CAAC,KAAKH,CAAN,GAAUE,CAAC,IAAI,KAAKV,EAAL,CAAQQ,CAAR,IAAa,KAAKR,EAAL,CAAQW,CAAR,CAA5B,GAAyC,IAAzC;AACH;;AAED,aAAKL,EAAL,CAAQE,CAAR,IAAa,IAAIE,CAAjB;AACH;AACJ;AAED;;;;;;;;4BAKQP,C,EAAG;AACP,UAAIS,CAAC,GAAG,CAAR;AACA,UAAIC,CAAC,GAAG,CAAR;;AAEA,WAAK,IAAIF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKX,EAAL,CAAQS,MAA5B,EAAoC,EAAEE,CAAtC,EAAyC;AACrC,YAAIR,CAAC,KAAK,KAAKH,EAAL,CAAQW,CAAR,CAAV,EAAsB;AAClBC,UAAAA,CAAC,IAAK,KAAKN,EAAL,CAAQK,CAAR,KAAcR,CAAC,GAAG,KAAKH,EAAL,CAAQW,CAAR,CAAlB,CAAD,GAAkC,KAAKP,EAAL,CAAQO,CAAR,CAAvC;AACAE,UAAAA,CAAC,IAAI,KAAKP,EAAL,CAAQK,CAAR,KAAcR,CAAC,GAAG,KAAKH,EAAL,CAAQW,CAAR,CAAlB,CAAL;AACH,SAHD,MAGO;AACH,iBAAO,KAAKP,EAAL,CAAQO,CAAR,CAAP;AACH;AACJ;;AAED,aAAOC,CAAC,GAAGC,CAAX;AACH","sourcesContent":["export default class Lagrange {\r\n\r\n    /**\r\n     * At least 2 points are needed to interpolate something\r\n     * @param arr - array of objects { x: xVal, y: yVal }\r\n     */\r\n    constructor(arr) {\r\n        this.xs = arr.map(p => p.x); // [x1, x2, x3]\r\n        this.ys = arr.map(p => p.y); // [y1, y2, y3]\r\n        this.ws = [];\r\n        this._updateWeights();\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _updateWeights() {\r\n        for (let j = 0; j < this.xs.length; ++j) {\r\n            let w = 1;\r\n\r\n            for (let i = 0; i < this.xs.length; ++i) {\r\n                i !== j ? w *= this.xs[j] - this.xs[i] : null;\r\n            }\r\n\r\n            this.ws[j] = 1 / w;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Calculate L(x)\r\n     * @param x\r\n     * @returns {*}\r\n     */\r\n    valueOf(x) {\r\n        let b = 0;\r\n        let c = 0;\r\n\r\n        for (let i = 0; i < this.xs.length; ++i) {\r\n            if (x !== this.xs[i]) {\r\n                b += (this.ws[i] / (x - this.xs[i])) * this.ys[i];\r\n                c += this.ws[i] / (x - this.xs[i]);\r\n            } else {\r\n                return this.ys[i];\r\n            }\r\n        }\r\n\r\n        return b / c;\r\n    }\r\n}\r\n"],"file":"lagrnage_oop.js"}